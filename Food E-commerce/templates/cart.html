{% extends "base.html" %}

{% block title %}Shopping Cart{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/cart.css') }}">
{% endblock %}

{% block content %}
<h2>Your Shopping Cart</h2>

{% if cart %}
  <div class="cart-container">
    {% for item in cart.values() %}
      <div class="cart-item">
        <img src="{{ url_for('static', filename='images/' ~ item.image) }}" alt="{{ item.name }}" class="cart-image">
        <div class="cart-details">
          <h3>{{ item.name }}</h3>
          <p>Price: ${{ "%.2f"|format(item.price) }}</p>
          <p>Quantity: {{ item.quantity }}</p>
          <p>Subtotal: ${{ "%.2f"|format(item.price * item.quantity) }}</p>

          <!-- Remove button -->
          <form action="{{ url_for('remove_from_cart', product_id=item.id) }}" method="post">
            <button type="submit" class="remove-btn">Remove</button>
          </form>
        </div>
      </div>
    {% endfor %}
  </div>
  <h3 class="cart-total">Total: ${{ "%.2f"|format(total) }}</h3>
{% else %}
  <p>Your cart is empty.</p>
{% endif %}
{% endblock %}
